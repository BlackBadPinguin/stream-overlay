<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <meta charset="utf-8" />
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link
      href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&amp;effect=outline"
      rel="stylesheet"
      type="text/css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/e59294cd4b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="../libs/jquery.simple-text-rotator.min.js"></script>
    <link href="../libs/simpletextrotator.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <div id="main_bottom">
      <span class="serverURL">PANTHOR.DE</span>
      <img src="../assets/hexagon_panthor.png" class="panthor_hexagon" />
      <div class="parent">
        <div class="div1">
          <div id="profileImage">
            <img id="dyn_streamer_pic" src="../assets/example1.jpg" />
          </div>
          <h5>
            <span id="dyn_streamer_name" class="text-gradient">&#60;NAME&#62;</span><br />
            <span id="dyn_streamer_rank">&#60;RANK&#62;</span>
          </h5>
        </div>
        <div class="div2">
          <span id="Instagram" class="social_icon"
            ><i class="fa-brands fa-instagram"></i><span class="social_text">PanthorDE</span></span
          >
          <span id="tiktok" class="social_icon"
            ><i class="fa-brands fa-tiktok"></i><span class="social_text">PanthorDE</span></span
          >
          <span id="youtube" class="social_icon"
            ><i class="fa-brands fa-youtube"></i><span class="social_text">vabene1111</span></span
          >
          <span id="twitter" class="social_icon"
            ><i class="fa-brands fa-twitter"></i><span class="social_text">PanthorDE</span></span
          >
          <!--<span id="instagram" class="social_icon"><i class="fa-brands fa-discord"></i></span>-->
        </div>
        <div class="div3">
          <h4>
            AKTUELLER STREAM<br />
            <span id="dyn_project">&#60;STREAM&#62;</span>
          </h4>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        const urlParams = new URLSearchParams(window.location.search);

        console.log(urlParams);

        if (urlParams.get('name')) {
          $('#dyn_streamer_name').text(urlParams.get('name').toUpperCase());
        }
        if (urlParams.get('rank')) {
          $('#dyn_streamer_rank').text(urlParams.get('rank').toUpperCase());
        }
        if (urlParams.get('img')) {
          $('#dyn_streamer_pic').attr('src', urlParams.get('img'));
        }
        if (urlParams.get('stream')) {
          $('#dyn_project').text(urlParams.get('stream').toUpperCase());
        }

        var container = $('.div2');
        var elements = container.find('.social_icon');
        var currentIndex = 0;

        function loopThroughElements() {
          elements.eq(currentIndex).addClass('social_active').siblings().removeClass('social_active');

          // Increment index and reset if it's the last element
          currentIndex = (currentIndex + 1) % elements.length;
        }

        async function startLoop() {
          while (true) {
            elements.addClass('social_show');
            await delay(15.5 * 1000);
            elements.removeClass('social_show');
            loopThroughElements();
            await delay(8.5 * 1000);
            elements.removeClass('social_active');
          }
        }

        async function performTask() {
          return new Promise(function (resolve) {
            loopThroughElements();
          });
        }

        async function delay(ms) {
          return new Promise(function (resolve) {
            setTimeout(resolve, ms);
          });
        }

        startLoop();
      });
    </script>
  </body>
</html>
